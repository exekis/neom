{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/sections/LandingHero.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function LandingHero() {\r\n  return (\r\n    <header className=\"relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900/40 to-slate-900\">\r\n      <div className=\"container py-24 md:py-32 text-center\">\r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"text-5xl md:text-7xl font-extrabold tracking-tight text-white\"\r\n        >\r\n          Transform Your\r\n          <span className=\"mx-2 inline-block bg-gradient-to-r from-purple-400/30 to-pink-400/30 rounded-2xl px-3 py-1\">\r\n            <span className=\"bg-gradient-to-r from-purple-300 to-pink-300 bg-clip-text text-transparent\">\r\n              Audio with AI\r\n            </span>\r\n          </span>\r\n        </motion.h1>\r\n        <motion.p\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ delay: 0.15, duration: 0.6 }}\r\n          className=\"mt-6 max-w-2xl mx-auto text-white/70\"\r\n        >\r\n          Use natural language to apply professional audio effects, fades, and enhancements. No technical\r\n          skills required‚Äîjust describe what you want your track to sound like.\r\n        </motion.p>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ delay: 0.25, duration: 0.6 }}\r\n          className=\"mt-10 flex items-center justify-center gap-4\"\r\n        >\r\n          <a href=\"#demo\" className=\"btn btn-primary hover-lift\">Start Editing Free</a>\r\n          <a href=\"#features\" className=\"btn btn-ghost hover-lift\">Watch Demo</a>\r\n        </motion.div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,wQAAC;QAAO,WAAU;kBAChB,cAAA,wQAAC;YAAI,WAAU;;8BACb,wQAAC,8NAAM,CAAC,EAAE;oBACR,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,aAAa;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAChC,UAAU;wBAAE,MAAM;oBAAK;oBACvB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;;wBACX;sCAEC,wQAAC;4BAAK,WAAU;sCACd,cAAA,wQAAC;gCAAK,WAAU;0CAA6E;;;;;;;;;;;;;;;;;8BAKjG,wQAAC,8NAAM,CAAC,CAAC;oBACP,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,aAAa;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAChC,UAAU;wBAAE,MAAM;oBAAK;oBACvB,YAAY;wBAAE,OAAO;wBAAM,UAAU;oBAAI;oBACzC,WAAU;8BACX;;;;;;8BAKD,wQAAC,8NAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,aAAa;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAChC,UAAU;wBAAE,MAAM;oBAAK;oBACvB,YAAY;wBAAE,OAAO;wBAAM,UAAU;oBAAI;oBACzC,WAAU;;sCAEV,wQAAC;4BAAE,MAAK;4BAAQ,WAAU;sCAA6B;;;;;;sCACvD,wQAAC;4BAAE,MAAK;4BAAY,WAAU;sCAA2B;;;;;;;;;;;;;;;;;;;;;;;AAKnE","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/sections/Features.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\n\r\nconst ITEMS = [\r\n  {\r\n    icon: 'üí¨',\r\n    title: 'Chat with AI',\r\n    body: \"Talk to our AI like a human engineer: 'Fade out the last 20s' or 'Add reverb'‚Äîit understands.\",\r\n  },\r\n  {\r\n    icon: 'üéõÔ∏è',\r\n    title: 'Visual Timeline',\r\n    body: 'See edits in real time. Select regions and compare original vs. modified side by side.',\r\n  },\r\n  { icon: 'üéß', title: 'Instant Playback', body: 'Play back changes immediately. A/B compare to hear the difference.' },\r\n  { icon: 'üîß', title: 'Pro Tools', body: 'Normalize, adjust gain, fades, and add loops‚Äîall via simple commands.' },\r\n];\r\n\r\nexport default function Features() {\r\n  return (\r\n    <section id=\"features\" className=\"py-24 bg-surface\">\r\n      <div className=\"container\">\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-center text-4xl font-bold text-white mb-14\"\r\n        >\r\n          What Makes NOEM Special?\r\n        </motion.h2>\r\n\r\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\r\n          {ITEMS.map((f, i) => (\r\n            <motion.div\r\n              key={f.title}\r\n              initial={{ opacity: 0, y: 16 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              viewport={{ once: true, amount: 0.2 }}\r\n              transition={{ duration: 0.4, delay: i * 0.05 }}\r\n              className=\"card p-6 h-full\"\r\n            >\r\n              <div className=\"text-2xl mb-3\">{f.icon}</div>\r\n              <h3 className=\"text-lg font-semibold text-white mb-2\">{f.title}</h3>\r\n              <p className=\"text-white/70 text-sm leading-relaxed\">{f.body}</p>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,QAAQ;IACZ;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QAAE,MAAM;QAAM,OAAO;QAAoB,MAAM;IAAqE;IACpH;QAAE,MAAM;QAAM,OAAO;QAAa,MAAM;IAAwE;CACjH;AAEc,SAAS;IACtB,qBACE,wQAAC;QAAQ,IAAG;QAAW,WAAU;kBAC/B,cAAA,wQAAC;YAAI,WAAU;;8BACb,wQAAC,8NAAM,CAAC,EAAE;oBACR,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,aAAa;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAChC,UAAU;wBAAE,MAAM;oBAAK;oBACvB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;8BACX;;;;;;8BAID,wQAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,GAAG,kBACb,wQAAC,8NAAM,CAAC,GAAG;4BAET,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,aAAa;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAChC,UAAU;gCAAE,MAAM;gCAAM,QAAQ;4BAAI;4BACpC,YAAY;gCAAE,UAAU;gCAAK,OAAO,IAAI;4BAAK;4BAC7C,WAAU;;8CAEV,wQAAC;oCAAI,WAAU;8CAAiB,EAAE,IAAI;;;;;;8CACtC,wQAAC;oCAAG,WAAU;8CAAyC,EAAE,KAAK;;;;;;8CAC9D,wQAAC;oCAAE,WAAU;8CAAyC,EAAE,IAAI;;;;;;;2BATvD,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;AAgB1B","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/AudioUploader.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Props {\r\n  onUpload: (projectData: {\r\n    projectId: string;\r\n    originalUrl: string;\r\n    modifiedUrl: string | null;\r\n  }) => void;\r\n}\r\n\r\nexport default function AudioUploader({ onUpload }: Props) {\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n  };\r\n\r\n  const handleDrop = async (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n\r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) {\r\n      await uploadFile(files[0]);\r\n    }\r\n  };\r\n\r\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      await uploadFile(files[0]);\r\n    }\r\n  };\r\n\r\n  const uploadFile = async (file: File) => {\r\n    if (!file.type.includes('audio/')) {\r\n      alert('Please upload an audio file (MP3, WAV, etc.)');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setUploadProgress(0);\r\n\r\n    // Simulate upload progress\r\n    const progressInterval = setInterval(() => {\r\n      setUploadProgress(prev => {\r\n        if (prev >= 90) {\r\n          clearInterval(progressInterval);\r\n          return 90;\r\n        }\r\n        return prev + 10;\r\n      });\r\n    }, 200);\r\n\r\n    try {\r\n      // Create a temporary project ID for demo\r\n      const projectId = `project-${Date.now()}`;\r\n      const originalUrl = `${window.location.origin}/api/files/${projectId}/original.wav`;\r\n\r\n      // Simulate backend upload delay\r\n      setTimeout(() => {\r\n        clearInterval(progressInterval);\r\n        setUploadProgress(100);\r\n\r\n        setTimeout(() => {\r\n          setUploading(false);\r\n          onUpload({\r\n            projectId,\r\n            originalUrl,\r\n            modifiedUrl: null\r\n          });\r\n        }, 500);\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.error('Upload failed:', error);\r\n      setUploading(false);\r\n      clearInterval(progressInterval);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-2xl mx-auto\">\r\n      <motion.div\r\n        whileHover={{ scale: 1.02 }}\r\n        className=\"relative\"\r\n      >\r\n        <motion.div\r\n          className={`w-full h-80 border-2 border-dashed rounded-2xl transition-all duration-300 cursor-pointer ${\r\n            isDragOver\r\n              ? 'border-purple-400 bg-purple-400/10 scale-105'\r\n              : 'border-white/20 bg-white/5 hover:border-white/30 hover:bg-white/10'\r\n          } ${uploading ? 'pointer-events-none' : ''}`}\r\n          onClick={() => !uploading && fileInputRef.current?.click()}\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n          animate={isDragOver ? { scale: 1.05, borderColor: '#a855f7' } : { scale: 1, borderColor: 'rgba(255, 255, 255, 0.2)' }}\r\n        >\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"audio/*\"\r\n            onChange={handleFileSelect}\r\n            className=\"hidden\"\r\n          />\r\n\r\n          <div className=\"flex flex-col items-center justify-center h-full p-8 text-center\">\r\n            <AnimatePresence mode=\"wait\">\r\n              {uploading ? (\r\n                <motion.div\r\n                  key=\"uploading\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -20 }}\r\n                  className=\"flex flex-col items-center space-y-4\"\r\n                >\r\n                  <div className=\"relative\">\r\n                    <svg className=\"w-16 h-16 text-purple-400 animate-spin\" viewBox=\"0 0 24 24\">\r\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"></circle>\r\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"w-full max-w-xs bg-white/10 rounded-full h-2\">\r\n                    <motion.div\r\n                      className=\"bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full\"\r\n                      style={{ width: `${uploadProgress}%` }}\r\n                      initial={{ width: 0 }}\r\n                      animate={{ width: `${uploadProgress}%` }}\r\n                      transition={{ duration: 0.3 }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-purple-200 font-medium\">Analyzing your audio...</p>\r\n                </motion.div>\r\n              ) : (\r\n                <motion.div\r\n                  key=\"idle\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -20 }}\r\n                  className=\"flex flex-col items-center space-y-6\"\r\n                >\r\n                  <motion.div\r\n                    animate={{\r\n                      scale: isDragOver ? 1.2 : 1,\r\n                      rotate: isDragOver ? 5 : 0\r\n                    }}\r\n                    transition={{ duration: 0.2 }}\r\n                  >\r\n                    <svg className=\"w-20 h-20 text-white/60\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\r\n                    </svg>\r\n                  </motion.div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"text-2xl font-bold text-white\">\r\n                      {isDragOver ? 'Drop your audio file here' : 'Upload your audio track'}\r\n                    </h3>\r\n                    <p className=\"text-white/70 max-w-md\">\r\n                      Drag and drop or click to upload MP3, WAV, or other audio files for processing with NOEM\r\n                    </p>\r\n                  </div>\r\n\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.95 }}\r\n                    className=\"px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full font-medium text-white hover:from-purple-600 hover:to-pink-600 transition-all duration-200\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      fileInputRef.current?.click();\r\n                    }}\r\n                  >\r\n                    Choose File\r\n                  </motion.button>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/hooks/useAudioPlayer.ts"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\n// framer-motion not needed in this hook\r\n\r\ninterface UseAudioPlayerProps {\r\n  url: string | null;\r\n  onAudioLoad?: (audio: HTMLAudioElement) => void;\r\n  volume?: number;\r\n  onPlayStateChange?: (isPlaying: boolean) => void;\r\n  onTimeUpdate?: (currentTime: number) => void;\r\n}\r\n\r\ninterface UseAudioPlayerReturn {\r\n  audioRef: React.RefObject<HTMLAudioElement | null>;\r\n  isPlaying: boolean;\r\n  currentTime: number;\r\n  duration: number;\r\n  volume: number;\r\n  isLoaded: boolean;\r\n  togglePlay: () => void;\r\n  seekTo: (time: number) => void;\r\n  setVolume: (volume: number) => void;\r\n  formatTime: (time: number) => string;\r\n}\r\n\r\nexport const useAudioPlayer = ({\r\n  url,\r\n  onAudioLoad,\r\n  volume = 1,\r\n  onPlayStateChange,\r\n  onTimeUpdate\r\n}: UseAudioPlayerProps): UseAudioPlayerReturn => {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentVolume, setVolume] = useState(volume);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (url && audioRef.current) {\r\n      const audio = audioRef.current;\r\n      audio.volume = currentVolume;\r\n\r\n      const handleLoadedMetadata = () => {\r\n        setDuration(audio.duration);\r\n        setIsLoaded(true);\r\n        onAudioLoad?.(audio);\r\n      };\r\n\r\n      const handleTimeUpdate = () => {\r\n        const time = audio.currentTime;\r\n        setCurrentTime(time);\r\n        onTimeUpdate?.(time);\r\n      };\r\n\r\n      const handleEnded = () => {\r\n        setIsPlaying(false);\r\n        onPlayStateChange?.(false);\r\n      };\r\n\r\n      const handlePlay = () => {\r\n        setIsPlaying(true);\r\n        onPlayStateChange?.(true);\r\n      };\r\n\r\n      const handlePause = () => {\r\n        setIsPlaying(false);\r\n        onPlayStateChange?.(false);\r\n      };\r\n\r\n      audio.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n      audio.addEventListener('timeupdate', handleTimeUpdate);\r\n      audio.addEventListener('ended', handleEnded);\r\n      audio.addEventListener('play', handlePlay);\r\n      audio.addEventListener('pause', handlePause);\r\n\r\n      return () => {\r\n        audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n        audio.removeEventListener('timeupdate', handleTimeUpdate);\r\n        audio.removeEventListener('ended', handleEnded);\r\n        audio.removeEventListener('play', handlePlay);\r\n        audio.removeEventListener('pause', handlePause);\r\n      };\r\n    }\r\n  }, [url, onAudioLoad, onPlayStateChange, onTimeUpdate, currentVolume]);\r\n\r\n  const togglePlay = async () => {\r\n    if (!audioRef.current || !isLoaded) return;\r\n\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n    } else {\r\n      await audioRef.current.play();\r\n    }\r\n  };\r\n\r\n  const seekTo = (time: number) => {\r\n    if (audioRef.current && isLoaded) {\r\n      const clampedTime = Math.max(0, Math.min(time, duration));\r\n      audioRef.current.currentTime = clampedTime;\r\n      setCurrentTime(clampedTime);\r\n    }\r\n  };\r\n\r\n  const handleSetVolume = (newVolume: number) => {\r\n    const clampedVolume = Math.max(0, Math.min(1, newVolume));\r\n    setVolume(clampedVolume);\r\n    if (audioRef.current) {\r\n      audioRef.current.volume = clampedVolume;\r\n    }\r\n  };\r\n\r\n  const formatTime = (time: number) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return {\r\n    audioRef,\r\n    isPlaying,\r\n    currentTime,\r\n    duration,\r\n    volume: currentVolume,\r\n    isLoaded,\r\n    togglePlay,\r\n    seekTo,\r\n    setVolume: handleSetVolume,\r\n    formatTime\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAwBO,MAAM,iBAAiB,CAAC,EAC7B,GAAG,EACH,WAAW,EACX,SAAS,CAAC,EACV,iBAAiB,EACjB,YAAY,EACQ;IACpB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2OAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2OAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2OAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,UAAU,GAAG,IAAA,2OAAQ,EAAC;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2OAAQ,EAAC;IAEzC,MAAM,WAAW,IAAA,yOAAM,EAAmB;IAE1C,IAAA,4OAAS,EAAC;QACR,IAAI,OAAO,SAAS,OAAO,EAAE;YAC3B,MAAM,QAAQ,SAAS,OAAO;YAC9B,MAAM,MAAM,GAAG;YAEf,MAAM,uBAAuB;gBAC3B,YAAY,MAAM,QAAQ;gBAC1B,YAAY;gBACZ,cAAc;YAChB;YAEA,MAAM,mBAAmB;gBACvB,MAAM,OAAO,MAAM,WAAW;gBAC9B,eAAe;gBACf,eAAe;YACjB;YAEA,MAAM,cAAc;gBAClB,aAAa;gBACb,oBAAoB;YACtB;YAEA,MAAM,aAAa;gBACjB,aAAa;gBACb,oBAAoB;YACtB;YAEA,MAAM,cAAc;gBAClB,aAAa;gBACb,oBAAoB;YACtB;YAEA,MAAM,gBAAgB,CAAC,kBAAkB;YACzC,MAAM,gBAAgB,CAAC,cAAc;YACrC,MAAM,gBAAgB,CAAC,SAAS;YAChC,MAAM,gBAAgB,CAAC,QAAQ;YAC/B,MAAM,gBAAgB,CAAC,SAAS;YAEhC,OAAO;gBACL,MAAM,mBAAmB,CAAC,kBAAkB;gBAC5C,MAAM,mBAAmB,CAAC,cAAc;gBACxC,MAAM,mBAAmB,CAAC,SAAS;gBACnC,MAAM,mBAAmB,CAAC,QAAQ;gBAClC,MAAM,mBAAmB,CAAC,SAAS;YACrC;QACF;IACF,GAAG;QAAC;QAAK;QAAa;QAAmB;QAAc;KAAc;IAErE,MAAM,aAAa;QACjB,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC,UAAU;QAEpC,IAAI,WAAW;YACb,SAAS,OAAO,CAAC,KAAK;QACxB,OAAO;YACL,MAAM,SAAS,OAAO,CAAC,IAAI;QAC7B;IACF;IAEA,MAAM,SAAS,CAAC;QACd,IAAI,SAAS,OAAO,IAAI,UAAU;YAChC,MAAM,cAAc,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,MAAM;YAC/C,SAAS,OAAO,CAAC,WAAW,GAAG;YAC/B,eAAe;QACjB;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG;QAC9C,UAAU;QACV,IAAI,SAAS,OAAO,EAAE;YACpB,SAAS,OAAO,CAAC,MAAM,GAAG;QAC5B;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO;QAClC,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO;QAClC,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAC5D;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA,WAAW;QACX;IACF;AACF","debugId":null}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/ui/WaveformVisualization.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface WaveformVisualizationProps {\r\n  currentTime: number;\r\n  duration: number;\r\n  isPlaying: boolean;\r\n  onSeek: (progress: number) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const WaveformVisualization = ({\r\n  currentTime,\r\n  duration,\r\n  isPlaying,\r\n  onSeek,\r\n  className = \"\"\r\n}: WaveformVisualizationProps) => {\r\n  // Initialize deterministically to avoid SSR/CSR mismatch\r\n  const [waveformData, setWaveformData] = useState<number[]>(() =>\r\n    Array.from({ length: 100 }, () => 0)\r\n  );\r\n\r\n  useEffect(() => {\r\n    // Generate waveform only on the client after mount\r\n    const newWaveform = Array.from({ length: 100 }, (_, i) => {\r\n      const noise = Math.sin(i / 8) * 20 + Math.sin(i / 3) * 10;\r\n      const base = 50 + noise; // 0-100%\r\n      return Math.max(8, Math.min(100, base + Math.random() * 10));\r\n    });\r\n    setWaveformData(newWaveform);\r\n  }, []);\r\n\r\n  const handleSeek = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const progress = Math.max(0, Math.min(1, x / rect.width));\r\n    onSeek(progress);\r\n  };\r\n\r\n  return (\r\n    <div className={`h-20 bg-white/5 rounded-lg overflow-hidden cursor-pointer relative ${className}`}>\r\n      <div className=\"flex justify-between px-3 py-2 text-xs text-white/60\">\r\n        {Array.from({ length: 6 }, (_, i) => (i / 5) * (duration || 0)).map((time, index) => (\r\n          <span key={index}>{formatTime(time)}</span>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"absolute inset-0 flex items-center\">\r\n        {waveformData.map((height, index) => {\r\n          const progress = duration ? currentTime / duration : 0;\r\n          const isActive = index / waveformData.length <= progress;\r\n\r\n          return (\r\n            <motion.div\r\n              key={index}\r\n              className={`flex-1 w-[2px] rounded-full mx-[1px] ${\r\n                isActive\r\n                  ? 'bg-gradient-to-t from-purple-400 to-pink-400'\r\n                  : 'bg-gradient-to-t from-blue-400 to-purple-400 opacity-60'\r\n              }`}\r\n              style={{ height: `${height}%` }}\r\n              animate={{ height: isPlaying && isActive ? [height * 1.1, height] : height }}\r\n              transition={{ duration: isPlaying ? 0.3 : 0, repeat: isPlaying ? Infinity : 0 }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Click overlay */}\r\n      <div className=\"absolute inset-0\" onClick={handleSeek} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst formatTime = (time: number): string => {\r\n  const minutes = Math.floor((time || 0) / 60);\r\n  const seconds = Math.floor((time || 0) % 60);\r\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUO,MAAM,wBAAwB,CAAC,EACpC,WAAW,EACX,QAAQ,EACR,SAAS,EACT,MAAM,EACN,YAAY,EAAE,EACa;IAC3B,yDAAyD;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2OAAQ,EAAW,IACzD,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAI,GAAG,IAAM;IAGpC,IAAA,4OAAS,EAAC;QACR,mDAAmD;QACnD,MAAM,cAAc,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAI,GAAG,CAAC,GAAG;YAClD,MAAM,QAAQ,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,KAAK,GAAG,CAAC,IAAI,KAAK;YACvD,MAAM,OAAO,KAAK,OAAO,SAAS;YAClC,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,KAAK,MAAM,KAAK;QAC1D;QACA,gBAAgB;IAClB,GAAG,EAAE;IAEL,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,EAAE,aAAa,CAAC,qBAAqB;QAClD,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,IAAI;QAC/B,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK;QACvD,OAAO;IACT;IAEA,qBACE,wQAAC;QAAI,WAAW,CAAC,mEAAmE,EAAE,WAAW;;0BAC/F,wQAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,CAAC,GAAG,IAAM,AAAC,IAAI,IAAK,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,sBACzE,wQAAC;kCAAkB,WAAW;uBAAnB;;;;;;;;;;0BAIf,wQAAC;gBAAI,WAAU;0BACZ,aAAa,GAAG,CAAC,CAAC,QAAQ;oBACzB,MAAM,WAAW,WAAW,cAAc,WAAW;oBACrD,MAAM,WAAW,QAAQ,aAAa,MAAM,IAAI;oBAEhD,qBACE,wQAAC,8NAAM,CAAC,GAAG;wBAET,WAAW,CAAC,qCAAqC,EAC/C,WACI,iDACA,2DACJ;wBACF,OAAO;4BAAE,QAAQ,GAAG,OAAO,CAAC,CAAC;wBAAC;wBAC9B,SAAS;4BAAE,QAAQ,aAAa,WAAW;gCAAC,SAAS;gCAAK;6BAAO,GAAG;wBAAO;wBAC3E,YAAY;4BAAE,UAAU,YAAY,MAAM;4BAAG,QAAQ,YAAY,WAAW;wBAAE;uBARzE;;;;;gBAWX;;;;;;0BAIF,wQAAC;gBAAI,WAAU;gBAAmB,SAAS;;;;;;;;;;;;AAGjD;AAEA,MAAM,aAAa,CAAC;IAClB,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI;IACzC,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI;IACzC,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC5D","debugId":null}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/ui/VolumeControl.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\n\r\ninterface VolumeControlProps {\r\n  volume: number;\r\n  onVolumeChange: (volume: number) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const VolumeControl = ({\r\n  volume,\r\n  onVolumeChange,\r\n  className = \"\"\r\n}: VolumeControlProps) => {\r\n  const handleVolumeChange = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const newVolume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));\r\n    onVolumeChange(newVolume);\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center space-x-2 ${className}`}>\r\n      {/* Volume Icon */}\r\n      <svg\r\n        className=\"w-4 h-4 text-white/60\"\r\n        fill=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        {volume === 0 ? (\r\n          // Muted\r\n          <path d=\"M8.86,16.8l2.54,2.54a1,1,0,0,1,0,1.41,1,1,0,0,1-1.42,0L7.43,18.23a1,1,0,0,1,0-1.41A1,1,0,0,1,8.86,16.8m0-9.6L7.43,5.76a1,1,0,1,1,1.42-1.41L11.4,6.28a1,1,0,0,1,0,1.41A1,1,0,0,1,9.97,8.13Z\"/>\r\n        ) : volume < 0.5 ? (\r\n          // Low volume\r\n          <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\"/>\r\n        ) : (\r\n          // High volume\r\n          <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v12.54c2.33-.67 4-2.75 4-5.27 0-2.52-1.67-4.6-4-5.27z\"/>\r\n        )}\r\n      </svg>\r\n\r\n      {/* Volume Slider */}\r\n      <div\r\n        className=\"w-20 h-2 bg-white/20 rounded-full cursor-pointer\"\r\n        onClick={handleVolumeChange}\r\n      >\r\n        <motion.div\r\n          className=\"h-full bg-gradient-to-r from-purple-400 to-pink-400 rounded-full\"\r\n          style={{ width: `${volume * 100}%` }}\r\n          initial={{ width: 0 }}\r\n          animate={{ width: `${volume * 100}%` }}\r\n          transition={{ duration: 0.2 }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAQO,MAAM,gBAAgB,CAAC,EAC5B,MAAM,EACN,cAAc,EACd,YAAY,EAAE,EACK;IACnB,MAAM,qBAAqB,CAAC;QAC1B,MAAM,OAAO,EAAE,aAAa,CAAC,qBAAqB;QAClD,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,IAAI,IAAI,KAAK,KAAK;QAC9E,eAAe;IACjB;IAEA,qBACE,wQAAC;QAAI,WAAW,CAAC,4BAA4B,EAAE,WAAW;;0BAExD,wQAAC;gBACC,WAAU;gBACV,MAAK;gBACL,SAAQ;0BAEP,WAAW,IACV,QAAQ;8BACR,wQAAC;oBAAK,GAAE;;;;;+DACN,SAAS,MACX,aAAa;8BACb,wQAAC;oBAAK,GAAE;;;;;+DAER,cAAc;8BACd,wQAAC;oBAAK,GAAE;;;;;;;;;;;0BAKZ,wQAAC;gBACC,WAAU;gBACV,SAAS;0BAET,cAAA,wQAAC,8NAAM,CAAC,GAAG;oBACT,WAAU;oBACV,OAAO;wBAAE,OAAO,GAAG,SAAS,IAAI,CAAC,CAAC;oBAAC;oBACnC,SAAS;wBAAE,OAAO;oBAAE;oBACpB,SAAS;wBAAE,OAAO,GAAG,SAAS,IAAI,CAAC,CAAC;oBAAC;oBACrC,YAAY;wBAAE,UAAU;oBAAI;;;;;;;;;;;;;;;;;AAKtC","debugId":null}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/ui/PlayButton.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\nimport { useAnimation } from \"framer-motion\";\r\n\r\ninterface PlayButtonProps {\r\n  isPlaying: boolean;\r\n  onToggle: () => void;\r\n  disabled?: boolean;\r\n  size?: \"small\" | \"medium\" | \"large\";\r\n  className?: string;\r\n}\r\n\r\nexport const PlayButton = ({\r\n  isPlaying,\r\n  onToggle,\r\n  disabled = false,\r\n  size = \"medium\",\r\n  className = \"\"\r\n}: PlayButtonProps) => {\r\n  const controls = useAnimation();\r\n\r\n  const handleClick = async () => {\r\n    if (disabled) return;\r\n\r\n    onToggle();\r\n\r\n    if (isPlaying) {\r\n      // Stop animations when pausing\r\n      controls.stop();\r\n    } else {\r\n      // Restart animations when playing\r\n      controls.start({ rotate: [0, 360] }, {\r\n        duration: 3,\r\n        repeat: Infinity,\r\n        ease: \"linear\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const sizeClasses = {\r\n    small: \"w-8 h-8\",\r\n    medium: \"w-12 h-12\",\r\n    large: \"w-16 h-16\"\r\n  };\r\n\r\n  return (\r\n    <motion.button\r\n      onClick={handleClick}\r\n      disabled={disabled}\r\n      className={`${sizeClasses[size]} rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white shadow-lg transition-all duration-200 disabled:opacity-50 disabled:pointer-events-none ${className}`}\r\n      whileHover={{ scale: 1.05 }}\r\n      whileTap={{ scale: 0.95 }}\r\n      animate={controls}\r\n    >\r\n      <motion.div\r\n        initial={{ rotate: 0 }}\r\n        animate={{ rotate: isPlaying ? [0, 360] : 0 }}\r\n        transition={{\r\n          rotate: isPlaying ? { duration: 3, repeat: Infinity, ease: \"linear\" } : { duration: 0.2 }\r\n        }}\r\n      >\r\n        {isPlaying ? (\r\n          <svg className=\"w-4 h-4 md:w-6 md:h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>\r\n          </svg>\r\n        ) : (\r\n          <svg className={`w-4 h-4 md:w-6 md:h-6 ${size === \"large\" ? \"ml-1\" : \"ml-0.5\"}`} fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M8 5v14l11-7z\"/>\r\n          </svg>\r\n        )}\r\n      </motion.div>\r\n    </motion.button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUO,MAAM,aAAa,CAAC,EACzB,SAAS,EACT,QAAQ,EACR,WAAW,KAAK,EAChB,OAAO,QAAQ,EACf,YAAY,EAAE,EACE;IAChB,MAAM,WAAW,IAAA,mOAAY;IAE7B,MAAM,cAAc;QAClB,IAAI,UAAU;QAEd;QAEA,IAAI,WAAW;YACb,+BAA+B;YAC/B,SAAS,IAAI;QACf,OAAO;YACL,kCAAkC;YAClC,SAAS,KAAK,CAAC;gBAAE,QAAQ;oBAAC;oBAAG;iBAAI;YAAC,GAAG;gBACnC,UAAU;gBACV,QAAQ;gBACR,MAAM;YACR;QACF;IACF;IAEA,MAAM,cAAc;QAClB,OAAO;QACP,QAAQ;QACR,OAAO;IACT;IAEA,qBACE,wQAAC,8NAAM,CAAC,MAAM;QACZ,SAAS;QACT,UAAU;QACV,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,8LAA8L,EAAE,WAAW;QAC3O,YAAY;YAAE,OAAO;QAAK;QAC1B,UAAU;YAAE,OAAO;QAAK;QACxB,SAAS;kBAET,cAAA,wQAAC,8NAAM,CAAC,GAAG;YACT,SAAS;gBAAE,QAAQ;YAAE;YACrB,SAAS;gBAAE,QAAQ,YAAY;oBAAC;oBAAG;iBAAI,GAAG;YAAE;YAC5C,YAAY;gBACV,QAAQ,YAAY;oBAAE,UAAU;oBAAG,QAAQ;oBAAU,MAAM;gBAAS,IAAI;oBAAE,UAAU;gBAAI;YAC1F;sBAEC,0BACC,wQAAC;gBAAI,WAAU;gBAAwB,MAAK;gBAAe,SAAQ;0BACjE,cAAA,wQAAC;oBAAK,GAAE;;;;;;;;;;yEAGV,wQAAC;gBAAI,WAAW,CAAC,sBAAsB,EAAE,SAAS,UAAU,SAAS,UAAU;gBAAE,MAAK;gBAAe,SAAQ;0BAC3G,cAAA,wQAAC;oBAAK,GAAE;;;;;;;;;;;;;;;;;;;;;AAMpB","debugId":null}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/AudioPlayer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { useAudioPlayer } from \"../hooks/useAudioPlayer\";\r\nimport { WaveformVisualization } from \"./ui/WaveformVisualization\";\r\nimport { VolumeControl } from \"./ui/VolumeControl\";\r\nimport { PlayButton } from \"./ui/PlayButton\";\r\n\r\ninterface Props {\r\n  title: string;\r\n  url: string | null;\r\n  onMaximize?: () => void;\r\n  onAudioLoad?: (audio: HTMLAudioElement) => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport default function AudioPlayer({ title, url, onMaximize, onAudioLoad, disabled }: Props) {\r\n  const {\r\n    audioRef,\r\n    isPlaying,\r\n    currentTime,\r\n    duration,\r\n    volume,\r\n    isLoaded,\r\n    togglePlay,\r\n    seekTo,\r\n    setVolume,\r\n    formatTime\r\n  } = useAudioPlayer({\r\n    url,\r\n    onAudioLoad,\r\n    onPlayStateChange: () => {\r\n      // Handle play state changes if needed\r\n    }\r\n  });\r\n\r\n  const handleWaveformSeek = (progress: number) => {\r\n    const newTime = progress * duration;\r\n    seekTo(newTime);\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className={`bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 p-6 ${\r\n        disabled ? 'opacity-50 pointer-events-none' : 'hover:bg-white/10'\r\n      } transition-all duration-300`}\r\n    >\r\n      <audio ref={audioRef} src={url || undefined} preload=\"metadata\" />\r\n\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h3 className=\"text-white font-semibold text-lg\">{title}</h3>\r\n        {onMaximize && (\r\n          <motion.button\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n            onClick={onMaximize}\r\n            className=\"p-2 text-white/60 hover:text-white/80 transition-colors\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n            </svg>\r\n          </motion.button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Waveform */}\r\n      <div className=\"mb-6\">\r\n        <WaveformVisualization\r\n          currentTime={currentTime}\r\n          duration={duration}\r\n          isPlaying={isPlaying}\r\n          onSeek={handleWaveformSeek}\r\n        />\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"flex items-center justify-between\">\r\n        {/* Play Button */}\r\n        <PlayButton\r\n          isPlaying={isPlaying}\r\n          onToggle={togglePlay}\r\n          disabled={!isLoaded}\r\n        />\r\n\r\n        {/* Time Display */}\r\n        <div className=\"flex items-center space-x-4 text-white/80 text-sm\">\r\n          <span className=\"font-mono\">{formatTime(currentTime)}</span>\r\n          <span>/</span>\r\n          <span className=\"font-mono\">{formatTime(duration)}</span>\r\n        </div>\r\n\r\n        {/* Volume Control */}\r\n        <VolumeControl\r\n          volume={volume}\r\n          onVolumeChange={setVolume}\r\n        />\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {!isLoaded && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"flex items-center justify-center mt-4\"\r\n        >\r\n          <div className=\"flex items-center space-x-2 text-white/60\">\r\n            <div className=\"w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin\"></div>\r\n            <span className=\"text-sm\">Loading audio...</span>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAgBe,SAAS,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAS;IAC1F,MAAM,EACJ,QAAQ,EACR,SAAS,EACT,WAAW,EACX,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,UAAU,EACV,MAAM,EACN,SAAS,EACT,UAAU,EACX,GAAG,IAAA,0KAAc,EAAC;QACjB;QACA;QACA,mBAAmB;QACjB,sCAAsC;QACxC;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,UAAU,WAAW;QAC3B,OAAO;IACT;IAEA,qBACE,wQAAC,8NAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAW,CAAC,mEAAmE,EAC7E,WAAW,mCAAmC,oBAC/C,4BAA4B,CAAC;;0BAE9B,wQAAC;gBAAM,KAAK;gBAAU,KAAK,OAAO;gBAAW,SAAQ;;;;;;0BAGrD,wQAAC;gBAAI,WAAU;;kCACb,wQAAC;wBAAG,WAAU;kCAAoC;;;;;;oBACjD,4BACC,wQAAC,8NAAM,CAAC,MAAM;wBACZ,YAAY;4BAAE,OAAO;wBAAI;wBACzB,UAAU;4BAAE,OAAO;wBAAI;wBACvB,SAAS;wBACT,WAAU;kCAEV,cAAA,wQAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,SAAQ;4BAAY,QAAO;sCAC9D,cAAA,wQAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;0BAO7E,wQAAC;gBAAI,WAAU;0BACb,cAAA,wQAAC,oMAAqB;oBACpB,aAAa;oBACb,UAAU;oBACV,WAAW;oBACX,QAAQ;;;;;;;;;;;0BAKZ,wQAAC;gBAAI,WAAU;;kCAEb,wQAAC,8KAAU;wBACT,WAAW;wBACX,UAAU;wBACV,UAAU,CAAC;;;;;;kCAIb,wQAAC;wBAAI,WAAU;;0CACb,wQAAC;gCAAK,WAAU;0CAAa,WAAW;;;;;;0CACxC,wQAAC;0CAAK;;;;;;0CACN,wQAAC;gCAAK,WAAU;0CAAa,WAAW;;;;;;;;;;;;kCAI1C,wQAAC,oLAAa;wBACZ,QAAQ;wBACR,gBAAgB;;;;;;;;;;;;YAKnB,CAAC,0BACA,wQAAC,8NAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,WAAU;0BAEV,cAAA,wQAAC;oBAAI,WAAU;;sCACb,wQAAC;4BAAI,WAAU;;;;;;sCACf,wQAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;;;;;;;AAMtC","debugId":null}},
    {"offset": {"line": 1244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/Timeline.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion, useSpring, useTransform, PanInfo } from \"framer-motion\";\r\nimport gsap from \"gsap\";\r\n\r\ninterface Props {\r\n  originalAudio: HTMLAudioElement | null;\r\n  modifiedAudio: HTMLAudioElement | null;\r\n  selectedRegion: { start: number; end: number } | null;\r\n  onRegionSelect: (region: { start: number; end: number } | null) => void;\r\n  onClearSelection?: () => void;\r\n}\r\n\r\nexport default function Timeline({\r\n  originalAudio,\r\n  modifiedAudio,\r\n  selectedRegion,\r\n  onRegionSelect,\r\n  onClearSelection\r\n}: Props) {\r\n  const [totalDuration, setTotalDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState<number | null>(null);\r\n  const [dragEnd, setDragEnd] = useState<number | null>(null);\r\n\r\n  const timelineRef = useRef<HTMLDivElement>(null);\r\n  const progressX = useSpring(0);\r\n  const regionScale = useSpring(1);\r\n  const progressLeft = useTransform(progressX, (v) => `${v}%`);\r\n\r\n  useEffect(() => {\r\n    const duration = originalAudio?.duration || modifiedAudio?.duration || 0;\r\n    if (duration) {\r\n      setTotalDuration(duration);\r\n    }\r\n  }, [originalAudio, modifiedAudio]);\r\n\r\n  useEffect(() => {\r\n    const handleSeek = () => {\r\n      const time = (originalAudio?.currentTime ?? modifiedAudio?.currentTime ?? 0);\r\n      setCurrentTime(time);\r\n\r\n      // Animate the progress line\r\n      gsap.to(progressX, {\r\n        value: (time / totalDuration) * 100,\r\n        duration: 0.3,\r\n        ease: \"power2.out\"\r\n      });\r\n    };\r\n\r\n    if (originalAudio && modifiedAudio) {\r\n      originalAudio.addEventListener('timeupdate', handleSeek);\r\n      modifiedAudio.addEventListener('timeupdate', handleSeek);\r\n\r\n      const duration = originalAudio?.duration || modifiedAudio?.duration || 0;\r\n      setTotalDuration(duration);\r\n\r\n      return () => {\r\n        originalAudio.removeEventListener('timeupdate', handleSeek);\r\n        modifiedAudio.removeEventListener('timeupdate', handleSeek);\r\n      };\r\n    }\r\n  }, [originalAudio, modifiedAudio, totalDuration, progressX]);\r\n\r\n  const handleTimelineClick = (event: React.MouseEvent) => {\r\n    if (!timelineRef.current || totalDuration === 0) return;\r\n\r\n    const rect = timelineRef.current.getBoundingClientRect();\r\n    const x = event.clientX - rect.left;\r\n    const percentage = x / rect.width;\r\n    const newTime = percentage * totalDuration;\r\n\r\n    // Seek both audio elements to the new time\r\n    if (originalAudio) originalAudio.currentTime = newTime;\r\n    if (modifiedAudio) modifiedAudio.currentTime = newTime;\r\n\r\n    setCurrentTime(newTime);\r\n    progressX.set(percentage * 100);\r\n  };\r\n\r\n  const handleRegionDrag = (event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo, type: 'start' | 'end') => {\r\n    if (!timelineRef.current || totalDuration === 0) return;\r\n\r\n    const rect = timelineRef.current.getBoundingClientRect();\r\n    const width = timelineRef.current.clientWidth;\r\n    const x = info.point.x - rect.left;\r\n    const percentage = Math.max(0, Math.min(1, x / width));\r\n    const newTime = percentage * totalDuration;\r\n\r\n    if (type === 'start') {\r\n      setDragStart(newTime);\r\n      if (selectedRegion) {\r\n        onRegionSelect({ start: newTime, end: selectedRegion.end });\r\n      } else if (dragEnd !== null) {\r\n        onRegionSelect({ start: newTime, end: dragEnd });\r\n      }\r\n    } else if (type === 'end') {\r\n      setDragEnd(newTime);\r\n      if (selectedRegion) {\r\n        onRegionSelect({ start: selectedRegion.start, end: newTime });\r\n      } else if (dragStart !== null) {\r\n        onRegionSelect({ start: dragStart, end: newTime });\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatTime = (time: number) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const timeMarks = Array.from({ length: 6 }, (_, i) => (i / 5) * totalDuration);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 p-6 mb-8\"\r\n    >\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h3 className=\"text-white font-semibold text-lg\">Timeline</h3>\r\n        <div className=\"flex items-center space-x-4\">\r\n          {selectedRegion && (\r\n            <motion.button\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n              onClick={onClearSelection}\r\n              className=\"text-purple-400 hover:text-purple-300 text-sm font-medium\"\r\n            >\r\n              Clear Selection\r\n            </motion.button>\r\n          )}\r\n          <div className=\"text-white/60 text-sm\">\r\n            {formatTime(currentTime)} / {formatTime(totalDuration)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Timeline Scale with Selection */}\r\n      <div className=\"relative mb-4\">\r\n        <motion.div\r\n          ref={timelineRef}\r\n          onClick={handleTimelineClick}\r\n          className=\"h-24 bg-white/5 rounded-lg cursor-pointer overflow-hidden relative\"\r\n          whileHover={{ scale: 1.01 }}\r\n        >\r\n          {/* Time Scale */}\r\n          <div className=\"flex justify-between px-3 py-2 text-xs text-white/60\">\r\n            {timeMarks.map((time, index) => (\r\n              <span key={index}>{formatTime(time)}</span>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Timeline Grid */}\r\n          <div className=\"absolute inset-0 flex\">\r\n            {Array.from({ length: 50 }, (_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                className=\"flex-1 border-l border-white/10\"\r\n                animate={{\r\n                  opacity: currentTime === 0 ? 0.3 : 0.6,\r\n                  scaleX: currentTime === 0 ? 1 : 1.1\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Selected Region */}\r\n          {selectedRegion && (\r\n            <motion.div\r\n              className=\"absolute top-6 bottom-6 bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-lg selected-region\"\r\n              style={{\r\n                left: `${(selectedRegion.start / totalDuration) * 100}%`,\r\n                width: `${((selectedRegion.end - selectedRegion.start) / totalDuration) * 100}%`,\r\n              }}\r\n              initial={{ opacity: 0, scaleY: 0 }}\r\n              animate={{ opacity: 1, scaleY: 1 }}\r\n              exit={{ opacity: 0, scaleY: 0 }}\r\n            >\r\n              {/* Region Start Handle */}\r\n              <motion.div\r\n                className=\"absolute -left-2 top-0 bottom-0 w-4 bg-purple-500 rounded-md cursor-ew-resize flex items-center justify-center shadow-lg\"\r\n                drag=\"x\"\r\n                dragConstraints={{\r\n                  left: 0,\r\n                  right: timelineRef.current ? (selectedRegion.end / totalDuration) * timelineRef.current.clientWidth : 0\r\n                }}\r\n                onDragEnd={(event, info) => handleRegionDrag(event, info, 'start')}\r\n                whileHover={{ scale: 1.1 }}\r\n                whileTap={{ scale: 0.9 }}\r\n              >\r\n                <svg className=\"w-3 h-3 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </motion.div>\r\n\r\n              {/* Region End Handle */}\r\n              <motion.div\r\n                className=\"absolute -right-2 top-0 bottom-0 w-4 bg-pink-500 rounded-md cursor-ew-resize flex items-center justify-center shadow-lg\"\r\n                drag=\"x\"\r\n                dragConstraints={{\r\n                  left: (selectedRegion.start / totalDuration) * (timelineRef.current?.clientWidth || 0),\r\n                  right: timelineRef.current?.clientWidth || 0\r\n                }}\r\n                onDragEnd={(event, info) => handleRegionDrag(event, info, 'end')}\r\n                whileHover={{ scale: 1.1 }}\r\n                whileTap={{ scale: 0.9 }}\r\n              >\r\n                <svg className=\"w-3 h-3 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </motion.div>\r\n\r\n              {/* Region Label */}\r\n              <div className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 text-purple-300 text-xs font-medium whitespace-nowrap\">\r\n                Selected: {formatTime(selectedRegion.start)} - {formatTime(selectedRegion.end)}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Progress Line */}\r\n          <motion.div\r\n            className=\"absolute top-8 bottom-8 w-1 bg-gradient-to-b from-purple-400 to-pink-400 rounded-full shadow-lg pulsing-line\"\r\n            style={{ left: progressLeft }}\r\n          />\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Timeline Controls */}\r\n      <div className=\"flex items-center justify-between\">\r\n        {/* Zoom Controls */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white/60 hover:text-white transition-colors\"\r\n            onClick={() => regionScale.set(Math.max(0.5, regionScale.get() - 0.2))}\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10h7m0 0v7m0-7l-8 8-4-4-6 6\" />\r\n            </svg>\r\n          </motion.button>\r\n          <span className=\"text-white/60 text-sm\">Zoom</span>\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white/60 hover:text-white transition-colors\"\r\n            onClick={() => regionScale.set(Math.min(2, regionScale.get() + 0.2))}\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10h3m0 0v3m0-3-9-9\" />\r\n            </svg>\r\n          </motion.button>\r\n        </div>\r\n\r\n        {/* Selection Mode Toggle */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className=\"text-white/60 text-sm\">Selection Mode</span>\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className={`px-4 py-2 rounded-full font-medium text-sm transition-colors ${\r\n              isDragging\r\n                ? 'bg-purple-500 text-white'\r\n                : 'bg-white/10 text-white/60 hover:bg-white/20 hover:text-white'\r\n            }`}\r\n            onClick={() => setIsDragging(!isDragging)}\r\n          >\r\n            {isDragging ? 'Active' : 'Off'}\r\n          </motion.button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1738, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/ChatInterface.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport gsap from \"gsap\";\r\n\r\ninterface Message { role: string; content: string }\r\n\r\ninterface Props {\r\n  messages: Message[];\r\n  setMessages: React.Dispatch<React.SetStateAction<Message[]>>;\r\n  isTyping: boolean;\r\n  sendMessage: (\r\n    content: string,\r\n    opts?: { projectId?: string; region?: { start: number; end: number } | null }\r\n  ) => Promise<void>;\r\n  selectedRegion: { start: number; end: number } | null;\r\n  projectId: string | undefined;\r\n}\r\n\r\nexport default function ChatInterface({\r\n  messages,\r\n  setMessages,\r\n  isTyping,\r\n  sendMessage,\r\n  selectedRegion,\r\n  projectId\r\n}: Props) {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const suggestions: string[] = [\r\n    \"Add some heavy guitar riff to the selection\",\r\n    \"Lower the volume by 3dB in the last 20 seconds\",\r\n    \"Add plate reverb to the entire track\",\r\n    \"Normalize the track to Spotify loudness standards\",\r\n    \"Add some punk guitar loops throughout\"\r\n  ];\r\n\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!inputValue.trim() || !projectId) return;\r\n\r\n    const userMessage = { role: 'user', content: inputValue.trim() } as Message;\r\n\r\n    // Add user message locally for immediate feedback\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputValue('');\r\n\r\n    // Animate input submit\r\n    gsap.to(inputRef.current, {\r\n      scale: 0.98,\r\n      duration: 0.1,\r\n      yoyo: true,\r\n      repeat: 1,\r\n      ease: \"power2.out\"\r\n    });\r\n\r\n    // Delegate processing to hook\r\n    await sendMessage(userMessage.content, { projectId, region: selectedRegion });\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion: string) => {\r\n    setInputValue(suggestion);\r\n    inputRef.current?.focus();\r\n\r\n    // Animate suggestion click\r\n    gsap.to('.suggestion', {\r\n      scale: 0.95,\r\n      duration: 0.1,\r\n      yoyo: true,\r\n      repeat: 1,\r\n      ease: \"power2.out\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col bg-gradient-to-b from-slate-800 to-slate-900\">\r\n      {/* Header */}\r\n      <div className=\"p-6 border-b border-white/10\">\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-xl font-bold text-white flex items-center\"\r\n        >\r\n          <svg className=\"w-6 h-6 mr-3 text-purple-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n          </svg>\r\n          Assistant\r\n        </motion.h2>\r\n        <p className=\"text-white/60 text-sm mt-1\">\r\n          {selectedRegion\r\n            ? `Region selected: ${selectedRegion.start.toFixed(1)}s - ${selectedRegion.end.toFixed(1)}s`\r\n            : 'Select a region or describe what you want to do'\r\n          }\r\n        </p>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n        <AnimatePresence>\r\n          {messages.map((message, index) => (\r\n            <motion.div\r\n              key={index}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              transition={{ duration: 0.3, delay: index * 0.1 }}\r\n              className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n              <div\r\n                className={`max-w-[80%] rounded-2xl px-4 py-3 ${\r\n                  message.role === 'user'\r\n                    ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white'\r\n                    : 'bg-white/10 text-white/90'\r\n                }`}\r\n              >\r\n                <div className=\"whitespace-pre-wrap\">{message.content}</div>\r\n                {isTyping && index === messages.length - 1 && message.role === 'assistant' && (\r\n                  <motion.div\r\n                    className=\"mt-2 flex space-x-1\"\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ delay: 0.5 }}\r\n                  >\r\n                    <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce [animation-delay:-0.3s]\"></div>\r\n                    <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce [animation-delay:-0.15s]\"></div>\r\n                    <div className=\"w-2 h-2 bg-purple-400 rounded-full animate-bounce\"></div>\r\n                  </motion.div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Suggestions */}\r\n      {messages.length <= 1 && !inputValue && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 1 }}\r\n          className=\"p-6 pt-0\"\r\n        >\r\n          <h4 className=\"text-white/80 text-sm font-medium mb-3\">Try asking me to:</h4>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {suggestions.slice(0, 3).map((suggestion, index) => (\r\n              <motion.button\r\n                key={index}\r\n                onClick={() => handleSuggestionClick(suggestion)}\r\n                className=\"suggestion px-3 py-2 bg-white/5 hover:bg-white/10 rounded-full text-sm text-white/60 hover:text-white transition-colors border border-white/10\"\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n              >\r\n                {suggestion}\r\n              </motion.button>\r\n            ))}\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Input */}\r\n      <div className=\"p-6 border-t border-white/10\">\r\n        <form onSubmit={handleSubmit} className=\"flex space-x-3\">\r\n          <motion.div\r\n            className=\"flex-1\"\r\n            animate={{ scale: isTyping ? 0.98 : 1 }}\r\n            transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n          >\r\n            <textarea\r\n              ref={inputRef}\r\n              value={inputValue}\r\n              onChange={(e) => setInputValue(e.target.value)}\r\n              placeholder={selectedRegion ? \"Try: Add reverb to the selection\" : \"Try: Add heavy guitar loops\"}\r\n              className=\"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 resize-none focus:outline-none focus:bg-white/10 focus:border-purple-400 transition-all duration-200\"\r\n              rows={1}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter' && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  handleSubmit(e);\r\n                }\r\n              }}\r\n            />\r\n          </motion.div>\r\n          <motion.button\r\n            type=\"submit\"\r\n            disabled={!inputValue.trim() || isTyping}\r\n            className={`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${\r\n              inputValue.trim() && !isTyping\r\n                ? 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg'\r\n                : 'bg-white/10 text-white/40 cursor-not-allowed'\r\n            }`}\r\n            whileHover={inputValue.trim() && !isTyping ? { scale: 1.05 } : {}}\r\n            whileTap={inputValue.trim() && !isTyping ? { scale: 0.95 } : {}}\r\n          >\r\n            {isTyping ? '...' : 'Send'}\r\n          </motion.button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/hooks/useChat.ts"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface Message {\r\n  role: string;\r\n  content: string;\r\n}\r\n\r\ninterface UseChatProps {\r\n  onProcessStart?: () => void;\r\n  onProcessEnd?: () => void;\r\n}\r\n\r\ninterface SendMessageOptions {\r\n  projectId?: string;\r\n  region?: { start: number; end: number } | null;\r\n}\r\n\r\ninterface UseChatReturn {\r\n  messages: Message[];\r\n  isTyping: boolean;\r\n  setMessages: React.Dispatch<React.SetStateAction<Message[]>>;\r\n  sendMessage: (content: string, opts?: SendMessageOptions) => Promise<void>;\r\n}\r\n\r\nexport const useChat = ({\r\n  onProcessStart,\r\n  onProcessEnd\r\n}: UseChatProps): UseChatReturn => {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const initializedRef = useRef(false);\r\n\r\n  const sendMessage = async (content: string, opts?: SendMessageOptions) => {\r\n    const projectId = opts?.projectId;\r\n    const region = opts?.region ?? null;\r\n    if (!content.trim() || !projectId) return;\r\n\r\n    const userMessage = { role: 'user', content: content.trim() };\r\n\r\n    // Add user message\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setIsTyping(true);\r\n    onProcessStart?.();\r\n\r\n    try {\r\n      // Process through backend API\r\n      const response = await fetch('/ops', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          projectId,\r\n          ops: [{\r\n            op: 'process_nlp',\r\n            message: content,\r\n            region\r\n          }]\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Processing failed: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Add assistant response with typing effect\r\n      const assistantMessage = { role: 'assistant', content: '' };\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n\r\n      const responseText = `üéß Applied: ${data.description || 'Audio processing completed'}\\n\\n‚úÖ Process complete! Your modified track is ready.`;\r\n      let index = 0;\r\n      const typeInterval = setInterval(() => {\r\n        setMessages(prev => {\r\n          const newMessages = [...prev];\r\n          newMessages[newMessages.length - 1] = {\r\n            role: 'assistant',\r\n            content: responseText.slice(0, index + 1)\r\n          };\r\n          return newMessages;\r\n        });\r\n        index++;\r\n        if (index >= responseText.length) {\r\n          clearInterval(typeInterval);\r\n          setIsTyping(false);\r\n          onProcessEnd?.();\r\n        }\r\n      }, 30);\r\n\r\n    } catch (error) {\r\n      console.error('Chat processing error:', error);\r\n      setIsTyping(false);\r\n      onProcessEnd?.();\r\n\r\n      // Add error message\r\n      setMessages(prev => [...prev, {\r\n        role: 'assistant',\r\n        content: \"‚ö†Ô∏è I'm having trouble connecting to the audio processor right now. Please make sure the backend is running and try again.\"\r\n      }]);\r\n    }\r\n  };\r\n\r\n  // Initialize with welcome message if no messages\r\n  useEffect(() => {\r\n    if (initializedRef.current) return;\r\n    if (messages.length === 0) {\r\n      initializedRef.current = true;\r\n      setIsTyping(true);\r\n      const welcomeMessage = \"Hello! I'm your NOEM audio assistant. I'm here to help you manipulate your audio track with professional-grade operations. What would you like to do?\\n\\nTry asking me to:\\n‚Ä¢ Add effects like reverb, delay, or compression\\n‚Ä¢ Adjust volume, fade in/out sections\\n‚Ä¢ Add musical loops or samples\\n‚Ä¢ Normalize your track for streaming\";\r\n\r\n      let index = 0;\r\n      const typeInterval = setInterval(() => {\r\n        setMessages([{ role: 'assistant', content: welcomeMessage.slice(0, index + 1) }]);\r\n        index++;\r\n        if (index >= welcomeMessage.length) {\r\n          clearInterval(typeInterval);\r\n          setIsTyping(false);\r\n        }\r\n      }, 20);\r\n    }\r\n  }, [messages.length]);\r\n\r\n  return {\r\n    messages,\r\n    isTyping,\r\n    setMessages,\r\n    sendMessage\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAwBO,MAAM,UAAU,CAAC,EACtB,cAAc,EACd,YAAY,EACC;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2OAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2OAAQ,EAAC;IACzC,MAAM,iBAAiB,IAAA,yOAAM,EAAC;IAE9B,MAAM,cAAc,OAAO,SAAiB;QAC1C,MAAM,YAAY,MAAM;QACxB,MAAM,SAAS,MAAM,UAAU;QAC/B,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,WAAW;QAEnC,MAAM,cAAc;YAAE,MAAM;YAAQ,SAAS,QAAQ,IAAI;QAAG;QAE5D,mBAAmB;QACnB,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAY;QAC1C,YAAY;QACZ;QAEA,IAAI;YACF,8BAA8B;YAC9B,MAAM,WAAW,MAAM,MAAM,QAAQ;gBACnC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,KAAK;wBAAC;4BACJ,IAAI;4BACJ,SAAS;4BACT;wBACF;qBAAE;gBACJ;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,mBAAmB,EAAE,SAAS,MAAM,EAAE;YACzD;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,4CAA4C;YAC5C,MAAM,mBAAmB;gBAAE,MAAM;gBAAa,SAAS;YAAG;YAC1D,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAiB;YAE/C,MAAM,eAAe,CAAC,YAAY,EAAE,KAAK,WAAW,IAAI,6BAA6B,qDAAqD,CAAC;YAC3I,IAAI,QAAQ;YACZ,MAAM,eAAe,YAAY;gBAC/B,YAAY,CAAA;oBACV,MAAM,cAAc;2BAAI;qBAAK;oBAC7B,WAAW,CAAC,YAAY,MAAM,GAAG,EAAE,GAAG;wBACpC,MAAM;wBACN,SAAS,aAAa,KAAK,CAAC,GAAG,QAAQ;oBACzC;oBACA,OAAO;gBACT;gBACA;gBACA,IAAI,SAAS,aAAa,MAAM,EAAE;oBAChC,cAAc;oBACd,YAAY;oBACZ;gBACF;YACF,GAAG;QAEL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,YAAY;YACZ;YAEA,oBAAoB;YACpB,YAAY,CAAA,OAAQ;uBAAI;oBAAM;wBAC5B,MAAM;wBACN,SAAS;oBACX;iBAAE;QACJ;IACF;IAEA,iDAAiD;IACjD,IAAA,4OAAS,EAAC;QACR,IAAI,eAAe,OAAO,EAAE;QAC5B,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,eAAe,OAAO,GAAG;YACzB,YAAY;YACZ,MAAM,iBAAiB;YAEvB,IAAI,QAAQ;YACZ,MAAM,eAAe,YAAY;gBAC/B,YAAY;oBAAC;wBAAE,MAAM;wBAAa,SAAS,eAAe,KAAK,CAAC,GAAG,QAAQ;oBAAG;iBAAE;gBAChF;gBACA,IAAI,SAAS,eAAe,MAAM,EAAE;oBAClC,cAAc;oBACd,YAAY;gBACd;YACF,GAAG;QACL;IACF,GAAG;QAAC,SAAS,MAAM;KAAC;IAEpB,OAAO;QACL;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/33576/htn2025/htn-2025/src/components/sections/Demo.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport AudioUploader from '../AudioUploader';\r\nimport AudioPlayer from '../AudioPlayer';\r\nimport Timeline from '../Timeline';\r\nimport ChatInterface from '../ChatInterface';\r\nimport { useChat } from '@/hooks/useChat';\r\n\r\ninterface ProjectState {\r\n  projectId?: string;\r\n  originalUrl?: string | null;\r\n  modifiedUrl?: string | null;\r\n}\r\n\r\nexport default function Demo() {\r\n  const [project, setProject] = useState<ProjectState>({});\r\n  const [selectedRegion, setSelectedRegion] = useState<{ start: number; end: number } | null>(null);\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  const { messages, setMessages, isTyping, sendMessage } = useChat({\r\n    onProcessStart: () => setProcessing(true),\r\n    onProcessEnd: () => setProcessing(false),\r\n  });\r\n\r\n  const originalAudioRef = useRef<HTMLAudioElement | null>(null);\r\n  const modifiedAudioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n  // Keep both players in sync (simple sync on play/pause via refs)\r\n  useEffect(() => {\r\n    const o = originalAudioRef.current;\r\n    const m = modifiedAudioRef.current;\r\n    if (!o || !m) return;\r\n\r\n    const sync = () => {\r\n      try { m.currentTime = o.currentTime; } catch {}\r\n    };\r\n\r\n    o.addEventListener('timeupdate', sync);\r\n    return () => { o.removeEventListener('timeupdate', sync); };\r\n  }, [project.originalUrl, project.modifiedUrl]);\r\n\r\n  const handleUpload = (data: { projectId: string; originalUrl: string; modifiedUrl: string | null; }) => {\r\n    setProject({ projectId: data.projectId, originalUrl: data.originalUrl, modifiedUrl: data.modifiedUrl });\r\n  };\r\n\r\n  return (\r\n    <section id=\"demo\" className=\"py-24\">\r\n      <div className=\"container\">\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: 16 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-4xl font-bold text-white text-center mb-10\"\r\n        >\r\n          Try the Demo\r\n        </motion.h2>\r\n\r\n        {/* Uploader */}\r\n        <div className=\"card p-6 mb-10\">\r\n          <AudioUploader onUpload={handleUpload} />\r\n        </div>\r\n\r\n        {/* Players */}\r\n        <div className=\"grid gap-6 md:grid-cols-2 mb-8\">\r\n          <div className=\"card p-6\">\r\n            <AudioPlayer\r\n              title=\"Original\"\r\n              url={project.originalUrl || null}\r\n              onAudioLoad={(audio) => (originalAudioRef.current = audio)}\r\n              disabled={!project.originalUrl}\r\n            />\r\n          </div>\r\n          <div className=\"card p-6\">\r\n            <AudioPlayer\r\n              title=\"Modified\"\r\n              url={project.modifiedUrl || project.originalUrl || null}\r\n              onAudioLoad={(audio) => (modifiedAudioRef.current = audio)}\r\n              disabled={!project.originalUrl}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeline */}\r\n        <Timeline\r\n          originalAudio={originalAudioRef.current}\r\n          modifiedAudio={modifiedAudioRef.current}\r\n          selectedRegion={selectedRegion}\r\n          onRegionSelect={setSelectedRegion}\r\n          onClearSelection={() => setSelectedRegion(null)}\r\n        />\r\n\r\n        {/* Chat */}\r\n        <div className=\"card overflow-hidden min-h-[420px] grid md:grid-cols-2\">\r\n          <div className=\"hidden md:block p-6 border-r border-white/10\">\r\n            <h3 className=\"text-white font-semibold mb-4\">Selection</h3>\r\n            <p className=\"text-white/70 text-sm\">\r\n              Choose a region on the timeline and describe the operation in chat. We‚Äôll apply AI-powered\r\n              audio edits to your track and return a preview.\r\n            </p>\r\n            {processing && (\r\n              <div className=\"mt-4 inline-flex items-center gap-2 text-white/70 text-sm\">\r\n                <span className=\"w-2 h-2 rounded-full bg-purple-400 animate-pulse\" />\r\n                Processing...\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"min-h-[420px]\">\r\n            <ChatInterface\r\n              messages={messages}\r\n              setMessages={setMessages}\r\n              isTyping={isTyping}\r\n              sendMessage={sendMessage}\r\n              selectedRegion={selectedRegion}\r\n              projectId={project.projectId}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}